# ReMeta

ReMeta is a powerful tool for removing and reading metadata from PNG images generated by the Stable Diffusion Web UI.

### Reading Metadata
https://user-images.githubusercontent.com/507464/215328728-ba06be72-a0e0-4252-8e98-11b00f526ab6.mp4

### Removing Metadata
https://user-images.githubusercontent.com/507464/215329121-06af4bf1-341a-4970-8277-103b44e10a8b.mp4


> Note: This tool was specifically built for the Stable Diffusion Web UI. It may not work with other PNG images. This tool is only tested in Windows.

## Installation

Download `remeta.exe` from the [Releases page](https://github.com/geocine/remeta/releases) and place it in any folder.

Modify path to `remeta.exe` in `add.reg`. Replace `D:\\SW\\bin\\` with your path to `remeta.exe`.

So if you downloaded `remeta.exe` to `C:\\tools` folder you need to change `add.reg` like this

```diff
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\*\shell]

[HKEY_CLASSES_ROOT\*\shell\ReMeta]
"MUIVerb"="ReMeta"
"AppliesTo"=".png"
"SubCommands"="ReMeta.clear;ReMeta.get"

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\ReMeta.clear]
@="Remove Metadata"

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\ReMeta.clear\command]
-@="D:\\SW\\bin\\remeta.exe remove \"%1\""
+@="C:\\tools\\remeta.exe remove \"%1\""

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\ReMeta.get]
@="Get Metadata"

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\CommandStore\shell\ReMeta.get\command]
-@="D:\\SW\\bin\\remeta.exe read \"%1\""
+@="C:\\tools\\remeta.exe read \"%1\""

```
After you have modified and saved this just double click the `add.reg` file.

Do you want to allow this app to make changes to your device? Yes (If asked)

Then click Yes once this shows up

![image](https://user-images.githubusercontent.com/507464/215338709-6cbb23c0-379c-4a9b-95d3-e74d0a5c1656.png)



## Uninstallation

Run `remove.reg` to remove ReMeta from the Windows context menu.

> Note: If you are not a developer you don't need to the information below

## Building

You need to have `go1.20rc1` 
```
go install golang.org/dl/go1.20rc1@latest
go1.20rc1 download
```
Then build using the following command:
```sh
.\build.bat
```

## Usage

ReMeta is a CLI tool so you can use it from the command line 
Removing metadata from images. This will create a new image with the same name but with the suffix `_raw`:
```sh
remeta remove <image>
```
Reading metadata from images. This will open a window with the metadata:
```sh
remeta read <image>
```

